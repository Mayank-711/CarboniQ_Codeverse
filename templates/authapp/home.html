{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CarbonIQ - Sustainable Travel Solutions</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="{% static 'css/landingpage2.css' %}" rel="stylesheet">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- AOS Animations -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <link href="{% static 'css/chatbot.css' %}" rel="stylesheet">
</head>

<body>
    <!-- Enhanced Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
        <div class="container-fluid">
            <a class="navbar-logo" href="#" data-aos="fade-right">
                <img src="{% static 'images/logo1.png' %}" width="40px" height="40px" alt="CarbonIQ Logo">
            </a>
            <a class="navbar-brand" href="#" data-aos="fade-right">CarbonIQ</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="#eco-importance" data-aos="fade-left" data-aos-delay="200">Why
                            CarbonIQ</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#about" data-aos="fade-left" data-aos-delay="100">About Us</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'login' %}"
                            style="background-color: white; border-radius: 15px; color: green;width:80px;padding-left:10px">Login</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Enhanced Video Section -->
    <section class="video-container video-overlay">
        <div class="overlay-text" data-aos="fade-down">
            <div class="main-heading">Your journey to a better future begins with one green step.</div>
            <div class="welcome-text">Welcome to <span class="title-color">CarbonIQ!</span></div>
        </div>
        <video autoplay muted loop playsinline>
            <source src="{% static 'videos/LandingPage.mp4' %}" type="video/mp4">
        </video>

        <!-- Statistics Section
        <div class="hero-stats">
            <div class="stat-card" data-aos="fade-up" data-aos-delay="100">
                <div class="stat-number">50K+</div>
                <div>Active Users</div>
            </div>
            <div class="stat-card" data-aos="fade-up" data-aos-delay="200">
                <div class="stat-number">100K</div>
                <div>CO₂ Saved (tons)</div>
            </div>
            <div class="stat-card" data-aos="fade-up" data-aos-delay="300">
                <div class="stat-number">200+</div>
                <div>Green Partners</div>
            </div>
        </div> -->
        <a href="#app" class="app-button">Discover More</a>

        <div class="scroll-indicator">
            <svg width="30" height="30" viewBox="0 0 24 24" fill="white">
                <path d="M7 10l5 5 5-5z" />
            </svg>
        </div>
    </section>
    <button class="fab btn" data-bs-toggle="tooltip" data-bs-placement="bottom" data-bs-title="Tooltip on bottom"
        onclick="toggleChatbot()">💬</button>

    <!-- Chatbot -->
    <div class="chatbot-container" id="chatbot">
        <div class="chatbot-header">
            <span>GreenBot</span>
            <button onclick="toggleChatbot()">✖</button>
        </div>
        <div class="chatbot-body" id="chatBody">
            <p><strong>GreenBot:</strong> Hello! Myself GreenBot, your personal green trip advisor . How can I assist
                you?</p>
        </div>
        <div class="chatbot-footer">
            <input type="text" id="userInput" placeholder="I want to travel 5km..." onkeypress="handleEnter(event)">
            <button onclick="sendMessage()" style="padding:10px;width:50px;font-size:20px">▷</button>
        </div>
    </div>
    <!-- Enhanced Eco-Importance Section -->
    <section id="eco-importance" class="section">
        <div class="container">
            <div class="section-header" data-aos="fade-up">
                <h1>Join the CarbonIQ Movement!</h1>
                <p class="section-description">Together, we can make a difference in the world through eco-friendly
                    travel. Join us and take action today!</p>

            </div>

            <div class="row">
                <div class="col-md-4 mb-4" data-aos="fade-up" data-aos-delay="100">
                    <div class="feature-card">
                        <div class="card-image-wrapper">
                            <img src="{% static 'images/reduceco2.jpg' %}" alt="Reducing Carbon Footprint">
                        </div>
                        <h5>Reducing Carbon Footprint</h5>
                        <p>Eco-friendly travel helps reduce your carbon footprint, conserving the environment for future
                            generations.</p>
                    </div>
                </div>

                <div class="col-md-4 mb-4" data-aos="fade-up" data-aos-delay="200">
                    <div class="feature-card">
                        <div class="card-image-wrapper">
                            <img src="{% static 'images/prenatre.jpeg' %}" alt="Preserving Natural Resources">
                        </div>
                        <h5>Preserving Natural Resources</h5>
                        <p>Make sustainable choices that help preserve our natural resources for generations to come.
                        </p>
                    </div>
                </div>

                <div class="col-md-4 mb-4" data-aos="fade-up" data-aos-delay="300">
                    <div class="feature-card">
                        <div class="card-image-wrapper">
                            <img src="{% static 'images/enhtraex.jpeg' %}" alt="Enhancing Travel Experience">
                        </div>
                        <h5>Enhancing Travel Experience</h5>
                        <p>Discover unique experiences and hidden gems through eco-friendly travel options.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Enhanced About Us Section -->
    <div class="about-us" id="about">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-6" data-aos="fade-right">
                    <div class="logo-circle">
                        <img src="{% static 'images/logowithoutbg.png' %}" alt="CarbonIQ Logo" class="logo">
                        <div class="circle-glow"></div> <!-- Glow effect for the logo -->
                    </div>
                </div>
                <div class="col-lg-6" data-aos="fade-left">
                    <div class="about-text">
                        <h3>About Us</h3>
                        <p>At CarbonIQ, we're passionate about making travel more sustainable. We provide innovative
                            solutions
                            to help you make eco-conscious travel choices while exploring the world.</p>
                        <p>Our community of environmentally conscious travelers shares tips, experiences, and a common
                            goal:
                            to protect our planet while discovering its beauty.</p>
                        <a href="#" class="learn-more-btn">Learn More <span>&rarr;</span></a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <section id="ecoFeatures" class="eco-section">
        <div class="eco-background" style="background-image: url({% static 'images/l1.jpeg' %});">
            <div class="container">
                <div class="eco-content" data-aos="fade-up">
                    <h1>Our Features</h1>
                    <p>Discover how CarbonIQ helps you travel sustainably</p>
                </div>

                <div id="ecoCarousel" class="carousel slide" data-bs-ride="carousel">
                    <div class="carousel-inner">
                        <div class="carousel-item active">
                            <div class="row justify-content-center">
                                <div class="col-lg-4 col-md-6" data-aos="fade-up" data-aos-delay="100">
                                    <div class="eco-card">
                                        <h5>Trip Planner</h5>
                                        <p>Plan your eco-friendly journeys with our intelligent route optimizer.</p>
                                    </div>
                                </div>
                                <div class="col-lg-4 col-md-6" data-aos="fade-up" data-aos-delay="200">
                                    <div class="eco-card">
                                        <h5>Carbon Calculator</h5>
                                        <p>Track and reduce your travel carbon footprint with our advanced calculator.
                                        </p>
                                    </div>
                                </div>
                                <div class="col-lg-4 col-md-6" data-aos="fade-up" data-aos-delay="300">
                                    <div class="eco-card">
                                        <h5>Green Rewards</h5>
                                        <p>Earn points for eco-friendly choices and redeem exciting rewards.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="eco-cta">
                    <h2>Ready to Start Your Eco-Friendly Journey?</h2>
                    <p>Join thousands of travelers making a difference.</p>
                    <a href="{% url 'login' %}" class="learn-more-btn">Get Started Today</a>
                </div>
            </div>
        </div>
    </section>


    <!-- Enhanced Footer -->
    <footer class="footer">
        <div class="container">
            <p>&copy; 2025 CarbonIQ. All rights reserved.</p>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
        // Initialize AOS
        AOS.init({
            duration: 1000,
            once: true
        });

        // Navbar scroll effect
        window.addEventListener('scroll', function () {
            const navbar = document.querySelector('.navbar');
            if (window.scrollY > 50) {
                navbar.classList.add('scrolled');
            } else {
                navbar.classList.remove('scrolled');
            }
        });


        function toggleChatbot() {
            const chatbot = document.getElementById("chatbot");
            chatbot.style.display = chatbot.style.display === "flex" ? "none" : "flex";
        }
        function handleEnter(event) {
            if (event.key == "Enter") {
                sendMessage();
            }
        }

        async function sendMessage() {
            const inputField = document.getElementById("userInput");
            const chatBody = document.getElementById("chatBody");
            const userMessage = inputField.value.trim();

            if (userMessage !== "") {
                chatBody.innerHTML += `<p><strong>You:</strong> ${userMessage}</p>`;
                inputField.value = "";

                try {
                    const response = await fetch("/chatbot-response/", {
                        method: "POST",
                        headers: { "Content-Type": "application/json" },
                        body: JSON.stringify({ message: userMessage })
                    });

                    const data = await response.json();
                    chatBody.innerHTML += `<p><strong>GreenBot:</strong> ${data.response || "No response"} 😊</p>`;
                } catch (error) {
                    chatBody.innerHTML += `<p><strong>GreenBot:</strong> Error fetching response ❌</p>`;
                }

                chatBody.scrollTop = chatBody.scrollHeight;
            }
        }


    </script>
</body>

</html>
